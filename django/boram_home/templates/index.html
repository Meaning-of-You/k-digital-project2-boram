{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Stylish Portfolio - Start Bootstrap Template</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
        <!-- Simple line icons-->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/simple-line-icons/2.5.5/css/simple-line-icons.min.css" rel="stylesheet" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
        <style>
            .form-label {font-size: 1.1em; font-weight: bold;}
            .form-check {margin-left: 20px}
            div.mb-3 {margin-bottom: 60px !important;}
            #result {display:block; margin: 20px 0; font-size: 1.2em; font-weight: bold;}
        </style>
    </head>
    <body id="page-top">
        <!-- Callout-->
        <section class="callout">
            <div class="container px-4 px-lg-5 text-center">
                <h2 class="mx-auto mb-5">
                    <!-- Welcome to
                    <em>your</em>
                    next website! -->
                    <h1>혹시 나도 스몸비?</h1>
                    <h3>여러분의 스마트폰 과의존 여부를 확인할 수 있습니다. </h3>
                </h2>
                <!-- <a class="btn btn-primary btn-xl" href="https://startbootstrap.com/theme/stylish-portfolio/">Download Now!</a> -->
            </div>
        </section>
        <!-- Portfolio-->
        <section class="content-section" id="portfolio">
            <div class="container px-4 px-lg-5">
                <div class="row gx-0">
                    <div class="container px-5 my-5">
                        <form id="contactForm" action="/submit" method="post">{% csrf_token %}
                            <div class="mb-3">
                                <label class="form-label d-block">이름</label>
                                <input class="form-control" id="name" type="text" name="name" required="required" />
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">연령</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="gubun1" type="radio" name="gubun" value="1" required="required" />
                                    <label class="form-check-label" for="gubun1">만 3~9세</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="gubun2" type="radio" name="gubun" value="2" required="required" />
                                    <label class="form-check-label" for="gubun2">만 10~19세</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="gubun3" type="radio" name="gubun" value="3" required="required" />
                                    <label class="form-check-label" for="gubun3">만 20~59세</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="gubun4" type="radio" name="gubun" value="4" required="required" />
                                    <label class="form-check-label" for="gubun4">만 60~69세</label>
                                </div>
                            </div>
                            <!-- <div class="mb-3">
                                <label class="form-label d-block">성별</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="gender1" type="radio" name="gender" value="1" />
                                    <label class="form-check-label" for="gender1">남성</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="gender2" type="radio" name="gender" value="2" />
                                    <label class="form-check-label" for="gender2">여성</label>
                                </div>
                                <div class="invalid-feedback" data-sb-feedback="성별:required">One option is required.</div>
                            </div> -->
                            <div class="mb-3">
                                <label class="form-label d-block">Q1. 스마트폰 이용시간을 줄이려고 할때마다 실패한다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q11" type="radio" name="question1" value="1" required="required" />
                                    <label class="form-check-label" for="q11">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q12" type="radio" name="question1" value="2" required="required" />
                                    <label class="form-check-label" for="q12">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q13" type="radio" name="question1" value="3" required="required" />
                                    <label class="form-check-label" for="q13">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q14" type="radio" name="question1" value="4" required="required" />
                                    <label class="form-check-label" for="q14">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Q2. 스마트폰 이용시간을 조절하는 것이 어렵다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q21" type="radio" name="question2" value="1" required="required" />
                                    <label class="form-check-label" for="q21">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q22" type="radio" name="question2" value="2" required="required" />
                                    <label class="form-check-label" for="q22">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q23" type="radio" name="question2" value="3" required="required" />
                                    <label class="form-check-label" for="q23">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q24" type="radio" name="question2" value="4" required="required" />
                                    <label class="form-check-label" for="q24">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Q3. 적절한 스마트폰 이용시간을 지키는 것이 어렵다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q31" type="radio" name="question3" value="1" required="required" />
                                    <label class="form-check-label" for="q31">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q32" type="radio" name="question3" value="2" required="required" />
                                    <label class="form-check-label" for="q32">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q33" type="radio" name="question3" value="3" required="required" />
                                    <label class="form-check-label" for="q33">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q34" type="radio" name="question3" value="4" required="required" />
                                    <label class="form-check-label" for="q34">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Q4. 스마트폰이 옆에 있으면 다른 일에 집중하기 어렵다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q41" type="radio" name="question4" value="1" required="required" />
                                    <label class="form-check-label" for="q41">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q42" type="radio" name="question4" value="2" required="required" />
                                    <label class="form-check-label" for="q42">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q43" type="radio" name="question4" value="3" required="required" />
                                    <label class="form-check-label" for="q43">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q44" type="radio" name="question4" value="4" required="required" />
                                    <label class="form-check-label" for="q44">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Q5. 스마트폰 생각이 머리에서 떠나지 않는다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q51" type="radio" name="question5" value="1" required="required" />
                                    <label class="form-check-label" for="q51">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q52" type="radio" name="question5" value="2" required="required" />
                                    <label class="form-check-label" for="q52">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q53" type="radio" name="question5" value="3" required="required" />
                                    <label class="form-check-label" for="q53">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q54" type="radio" name="question5" value="4" required="required" />
                                    <label class="form-check-label" for="q54">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Q6. 스마트폰을 이용하고 싶은 충동을 강하게 느낀다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q61" type="radio" name="question6" value="1" required="required" />
                                    <label class="form-check-label" for="q61">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q62" type="radio" name="question6" value="2" required="required" />
                                    <label class="form-check-label" for="q62">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q63" type="radio" name="question6" value="3" required="required" />
                                    <label class="form-check-label" for="q63">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q64" type="radio" name="question6" value="4" required="required" />
                                    <label class="form-check-label" for="q64">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Q7. 스마트폰 이용 때문에 건강에 문제가 생긴 적이 있다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q71" type="radio" name="question7" value="1" required="required" />
                                    <label class="form-check-label" for="q71">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q72" type="radio" name="question7" value="2" required="required" />
                                    <label class="form-check-label" for="q72">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q73" type="radio" name="question7" value="3" required="required" />
                                    <label class="form-check-label" for="q73">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q74" type="radio" name="question7" value="4" required="required" />
                                    <label class="form-check-label" for="q74">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Q8. 스마트폰 이용 때문에 가족과 심하게 다툰 적이 있다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q81" type="radio" name="question8" value="1" required="required" />
                                    <label class="form-check-label" for="q81">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q82" type="radio" name="question8" value="2" required="required" />
                                    <label class="form-check-label" for="q82">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q83" type="radio" name="question8" value="3" required="required" />
                                    <label class="form-check-label" for="q83">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q84" type="radio" name="question8" value="4" required="required" />
                                    <label class="form-check-label" for="q84">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Q9. 스마트폰 이용 때문에 친구 혹은 동료, 사회적 관계에서 심한 갈등을 경험한 적이 있다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q91" type="radio" name="question9" value="1" required="required" />
                                    <label class="form-check-label" for="q91">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q92" type="radio" name="question9" value="2" required="required" />
                                    <label class="form-check-label" for="q92">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q93" type="radio" name="question9" value="3" required="required" />
                                    <label class="form-check-label" for="q93">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q94" type="radio" name="question9" value="4" required="required" />
                                    <label class="form-check-label" for="q94">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label class="form-label d-block">Q10. 스마트폰 때문에 업무(학업 혹은 직업 등)수행에 어려움이 있다.</label>
                                <div class="form-check">
                                    <input class="form-check-input" id="q101" type="radio" name="question10" value="1" required="required" />
                                    <label class="form-check-label" for="q101">전혀 그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q102" type="radio" name="question10" value="2" required="required" />
                                    <label class="form-check-label" for="q102">그렇지 않다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q103" type="radio" name="question10" value="3" required="required" />
                                    <label class="form-check-label" for="q103">그렇다</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" id="q104" type="radio" name="question10" value="4" required="required" />
                                    <label class="form-check-label" for="q104">매우 그렇다</label>
                                </div>
                            </div>
                            <div class="d-grid">
                                <button class="btn btn-primary btn-lg" id="submitButton" type="submit">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
        <!-- Call to Action-->
        <section class="content-section bg-primary text-white">
            <div class="container px-4 px-lg-5 text-center">
                <h2 id="result-container" style="display: none;">
                    당신은
                    <strong id="result"></strong>
                    입니다.
                </h2>
                <!-- <a class="btn btn-xl btn-light me-4" href="#!">Click Me!</a> -->
                <!-- <a class="btn btn-xl btn-dark" href="#!">Look at Me!</a> -->
            </div>
        </section>
        <footer class="footer text-center">
            <div class="container px-4 px-lg-5">
                <p class="text-muted small mb-0">Copyright &copy; Team 3 Boram 2021</p>
            </div>
        </footer>
        <!-- Scroll to Top Button-->
        <a class="scroll-to-top rounded" href="#page-top"><i class="fas fa-angle-up"></i></a>
        
        
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="{% static 'js/scripts.js' %}"></script>
        <script>
            // form 이 submit 되지 않게 처리
            form = document.getElementById('contactForm')
            form.addEventListener('submit', function (event) {
                // 이벤트 취소
                event.preventDefault(); // 못넘어간거고

                // form 에 있는 정보를
                // /submit 에 비동기로 전송하고
                var data = $(this).serialize();

                $.ajax({
                    'method': 'post',
                    'url': '/submit',
                    'data': data,
                    'success': function (response) {

                        var resultContainer = $('#result-container')
                        var resultArea = $('#result');

                        if(response == '1') {
                            resultArea.html('과의존')
                            resultArea.css({'color': 'red'})
                        } else if(response == '2') {
                            resultArea.html('잠재적 위험군')
                            resultArea.css({'color': 'yellow'})
                        } else if(response == '3') {
                            resultArea.html('정상 사용자')
                            resultArea.css({'color': '#76ea34'})
                        }

                        resultContainer.show()
                        $('#submitButton').attr('disabled', 'disabled')
                    }
                });

                return false;
            })

            
            // 결과를 받아서 화면에 노출
        </script>
    </body>
</html>
